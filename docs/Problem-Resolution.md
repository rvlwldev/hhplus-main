## 대응책 및 보완점

> ```Fail``` 한 몇몇의 과제와 미처 개선하지 못한 로직 등으로 인해  
> APM(Grafana 등) 실시간 모니터링, 또는 로그를 일일이 확인하지 못했지만  
> 나름의 많은 방법을 찾아보고 시도해본 결과로   
> 미처 확인하지 못한 보완할 부분과 Digma 등의 여러 도구들의 활용법을 알 수 있게 되었다.

### 1.로그

- 모든 실행 쿼리 로그 출력 등의 불필요한 콘솔 I/O를 최대한 피한다.
  - 로그레벨을 Warn 이상으로 설정하는 방법, AsyncAppender 등의 비동기 처리 등이 있을 것 같다.
- 꼭 필요한 로그에 대해 더 생각해본다.

### 2. DB 최적화

- Hikari 의 maximumPoolSize 같은 설정을 먼저 고려해볼 수 있겠다
  - 커넥션의 재사용 전략에 대해 더 알아볼 필요가 있다.

### 3. 캐시

- 적절한 캐시전략을 고민해보고 우선 적용해야하는 요청을 잘 찾아봐야겠다.
- 이후 캐시 히트율을 높이는 방법에 대해 더 생각해봐야겠다.
  - 예시로 하루에 한번 콘서트 목록이 갱신된다고 가정했을때 TTL을 12~24시간으로 조절하는 방식을 생각해 볼 수 있겠다.

### 4. 문제 해결 단계

> 관리 포인트가 많아지는 것을 경계하면서,   
> 멘토링 당시 외부 인프라는 쓰기 싫은데 어쩔 수 없이 써야 한다는 점에서  
> _과도한 트래픽이 몰릴 때는 아래와 같이 순서대로 적용 및 트래픽 대응 방법을 생각해봐야겠다._

1. 감당 가능한 비용까지 일부 서버 자원 확보
2. 데이터베이스의 최적화 인덱스/정규화/비정규화 등
3. 서버 레벨에서의 캐시처리
4. 레디스 등 외부 시스템 도입으로 분산 캐시 구현
5. 적절한 서버 분할 이후 이벤트 처리 구현
6. LB나 오케스트레이션 도입으로 수평적 확장 (더 많은 학습 필요...)

추가로 위 내용을 도입하기 위해 성능/테스트 지표 등의 시각화 툴의 사용방법을 숙지해놔야겠다....

현재 시스템의 가장 큰 장애는 ```나```였다.

---